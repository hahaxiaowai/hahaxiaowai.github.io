(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{616:function(a,r,t){"use strict";t.r(r);var e=t(6),s=Object(e.a)({},(function(){var a=this,r=a.$createElement,t=a._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"简述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简述"}},[a._v("#")]),a._v(" 简述")]),a._v(" "),t("p",[a._v("在上一节中，我们以geojson的数据为例，通过addLayer加载了点线面图层，并没有详细的展开讲述addSource,以及addLayer的类型，本节将展开讲述。")]),a._v(" "),t("p",[a._v("在GIS开发中，数据是十分重要的，数据存储与数据源，由于应用场景不同，来源不同，也产生很多种数据源格式。mapbox支持市面上绝大部分的数据格式，如：geojson、影像、地形等，除此之外，mapbox定义了一个名为“vector-tile-spec”的开放标准，也就是被各大GIS厂商所使用的矢量瓦片。")]),a._v(" "),t("p",[a._v("从其发展来讲，矢量瓦片标准并非完全首创于mapbox,而是基于Google protocol buffers制定了这样的标准，并被更多的公司和组织采用"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/257037471",target:"_blank",rel:"noopener noreferrer"}},[a._v("1"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"数据源类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据源类型"}},[a._v("#")]),a._v(" 数据源类型")]),a._v(" "),t("p",[a._v("mapbox（2.6）目前支持以下GIS数据类型：\nvector, raster, raster-dem, geojson, image, video，canvas")]),a._v(" "),t("h3",{attrs:{id:"vector-矢量瓦片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vector-矢量瓦片"}},[a._v("#")]),a._v(" vector 矢量瓦片")]),a._v(" "),t("p",[a._v("矢量瓦片是较新的技术，各厂商也在使用，简单来讲，他仍属于瓦片，以金字塔的结构存储，加载速度快，同时他又具备着矢量图层的能力，即地图引擎可以识别出瓦片所包含的图形，它与常规的矢量数据功能相同。")]),a._v(" "),t("h3",{attrs:{id:"raster-瓦片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raster-瓦片"}},[a._v("#")]),a._v(" raster 瓦片")]),a._v(" "),t("p",[a._v("栅格瓦片，常见的瓦片格式，以遥感影像为主，也有矢量地图切成瓦片的，主要用于底图的展示。")]),a._v(" "),t("h3",{attrs:{id:"raster-dem-地形瓦片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raster-dem-地形瓦片"}},[a._v("#")]),a._v(" raster-dem 地形瓦片")]),a._v(" "),t("p",[a._v("将dem数据以rgb的形式存储在图片上，市面上有相似的数据形式（terrain RGB)， 但在存储高程值上有一些差别，用于在地图上展示地形数据。")]),a._v(" "),t("h3",{attrs:{id:"geojson"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#geojson"}},[a._v("#")]),a._v(" geojson")]),a._v(" "),t("p",[a._v("矢量图层，标准的矢量数据，结构清晰，易读，用于点线面的展示。")]),a._v(" "),t("h3",{attrs:{id:"image"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image"}},[a._v("#")]),a._v(" image")]),a._v(" "),t("p",[a._v("图片图层，不常用，可将图片直接覆盖在地图之上。")]),a._v(" "),t("h3",{attrs:{id:"video"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#video"}},[a._v("#")]),a._v(" video")]),a._v(" "),t("p",[a._v("视频图层，不常用，将视频覆盖在地图上。")]),a._v(" "),t("h3",{attrs:{id:"canvas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#canvas"}},[a._v("#")]),a._v(" canvas")]),a._v(" "),t("p",[a._v("将一个canvas作为资源，然后作为一个栅格图层加到地图上")]),a._v(" "),t("p",[a._v("对于初次接触的人来说，只需要大概了解，在开发过程中熟悉即可，"),t("a",{attrs:{href:"https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/",target:"_blank",rel:"noopener noreferrer"}},[a._v("sources API"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"图层类别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图层类别"}},[a._v("#")]),a._v(" 图层类别")]),a._v(" "),t("p",[a._v("图层类别和数据类型类似，更多的是从表现形式上去划分，主要是对矢量数据的表现形式进行细分，其他格式数据基本只有一种表现形式：\npolygon,symbol,line,fill-extrusion,background,raster,circle,heatmap,hillshade,sky")]),a._v(" "),t("h3",{attrs:{id:"polygon-line-symbol-fill-extrusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#polygon-line-symbol-fill-extrusion"}},[a._v("#")]),a._v(" polygon,line,symbol,fill-extrusion")]),a._v(" "),t("p",[a._v("点线面，体块，常用的矢量元素，体块是我个人的叫法，fill-extrusion直译过来是填充挤压，是将一个平面根据高度拉伸起来。")]),a._v(" "),t("h3",{attrs:{id:"background"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[a._v("#")]),a._v(" background")]),a._v(" "),t("p",[a._v("背景颜色，有用，但是很少改动的一个属性，因为底图基本靠影像数据。")]),a._v(" "),t("h3",{attrs:{id:"raster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raster"}},[a._v("#")]),a._v(" raster")]),a._v(" "),t("p",[a._v("栅格瓦片，对应的source的raster")]),a._v(" "),t("h3",{attrs:{id:"circle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circle"}},[a._v("#")]),a._v(" circle")]),a._v(" "),t("p",[a._v("圆，相对于点，和点相似，数据源靠点数据，就像一个用了圆形图片的点，相对于面，这个圆不会贴合地面，而是一直面向屏幕，“贴合”屏幕，常用于聚合效果的实现。")]),a._v(" "),t("h3",{attrs:{id:"heatmap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#heatmap"}},[a._v("#")]),a._v(" heatmap")]),a._v(" "),t("p",[a._v("二维热力图")]),a._v(" "),t("h3",{attrs:{id:"hillshade"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hillshade"}},[a._v("#")]),a._v(" hillshade")]),a._v(" "),t("p",[a._v("阴影，针对地形数据的阴影（个人不常用，所以不瞎说，不细说）")]),a._v(" "),t("h3",{attrs:{id:"sky"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sky"}},[a._v("#")]),a._v(" sky")]),a._v(" "),t("p",[a._v("天空盒，2.x后的产物，目前mapbox支持倾仰角最大为85度,能够看到天空了，这个图层可以绘制一个比较真实的天空盒，需要注意的一点是，天空盒是唯一的，所以不需要数据源，")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/",target:"_blank",rel:"noopener noreferrer"}},[a._v("layers API"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),t("p",[a._v("对于初学者来说，太多的分类是令人头疼的，不要着急，其实在开发中用的最多的数据源类型是geojson,矢量瓦片和瓦片，前两者是矢量数据，后者为影像数据。")]),a._v(" "),t("p",[a._v("讲到这里，理论基础就够了，剩下的在开发过程中逐渐了解，接下来，是一系列的加载练习，在之后是新手比较头疼的一件事——看API，这对于新手来说十分重要，学会看API，这入门教程便达到了目的。")]),a._v(" "),t("p",[a._v("单指Mapbox-gl(2.6)，是不支持3d tiles 类型数据的，不过可以通过deck.gl叠加的方式将3d tiles加载，但是存在性能与精度上（瓦片之间有缝隙）的问题，从Mapbox近期的更新（投影变换）来看，球形地图必然会成为正式功能（某分支已出现），那么3d tiles也应该在计划之内。")]),a._v(" "),t("h2",{attrs:{id:"ps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ps"}},[a._v("#")]),a._v(" PS")]),a._v(" "),t("p",[a._v("本节原本想的是给出几个addSource的使用示例，可是有了addSource，便需要addLayer展示效果，这会十分杂乱，所以本节只给了理论基础，后面的章节会稍微调整，以一种易学的顺序进行讲解，也欢迎指出问题与错误。")])])}),[],!1,null,null,null);r.default=s.exports}}]);